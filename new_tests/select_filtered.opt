Name: Select:420
Pre: isPowerOf2(C1) && C1 == C2
%and = and %X, C1
%c = icmp eq %and, 0
%F = xor %X, C2
%r = select %c, %X, %F
=>
%r = and %X, ~C1


Name: Select:423
Pre: isPowerOf2(C1) && C1 == ~C2
%and = and %X, C1
%c = icmp eq %and, 0
%F = and %X, C2
%r = select %c, %X, %F
=>
%r = %F


Name: Select:427
Pre: isPowerOf2(C1) && C1 == C2
%and = and %X, C1
%c = icmp eq %and, 0
%T = xor %X, C2
%r = select %c, %T, %X
=>
%r = or %X, C1


Name: Select:430
Pre: isPowerOf2(C1) && C1 == ~C2
%and = and %X, C1
%c = icmp eq %and, 0
%T = and %X, C2
%r = select %c, %T, %X
=>
%r = %X


Name: Select:433
Pre: isPowerOf2(C1) && C1 == C2
%and = and %X, C1
%c = icmp eq %and, 0
%T = or %X, C2
%r = select %c, %T, %X
=>
%r = %T


Name: Select:741
%c = icmp sgt %A, 0
%minus = sub 0, %A
%abs = select %c, %minus, %A
%c2 = icmp sgt %abs, -1
%minus2 = sub 0, %abs
%abs2 = select %c2, %minus2, %abs
=>
%abs2 = select %c, %minus, %A


Name: Select:846
%A = select %B, true, %C
=>
%A = or %B, %C


Name: Select:850
%A = select %B, false, %C
=>
%notb = xor %B, true
%A = and %notb, %C


Name: Select:852
%r = select %a, %a, %b
=>
%r = or %a, %b

Name: Select:858
%nota = xor %a, -1
%r = select %a, %nota, %b
=>
%r = and %nota, %b

Name: Select:962
; FIXME: valid for any binop
%s1 = add %x, %y
%s2 = add %x, %z
%r = select %c, %s1, %s2
=>
%yz = select %c, %y, %z
%r = add %x, %yz

